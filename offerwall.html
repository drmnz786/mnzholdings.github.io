<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Earning Platforms - MNZ Digital State</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    :root {
      --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      --dark-bg: #0f172a;
      --darker-bg: #0a0f1d;
    }
    
    body {
      background: var(--dark-bg);
      color: #e2e8f0;
      font-family: 'Inter', sans-serif;
    }
    
    .glass-card {
      background: rgba(30, 41, 59, 0.5);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 16px;
      transition: all 0.3s ease;
    }
    
    .glass-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(102, 126, 234, 0.2);
    }
    
    .gradient-text {
      background: var(--primary-gradient);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .platform-card {
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    
    .platform-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
      opacity: 0;
      transition: opacity 0.3s ease;
      z-index: 0;
    }
    
    .platform-card:hover::before {
      opacity: 1;
    }
    
    .platform-card:hover {
      transform: translateY(-5px) scale(1.02);
    }
    
    .btn-primary {
      background: var(--primary-gradient);
      transition: all 0.3s ease;
    }
    
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
    }
    
    .offer-tag {
      position: absolute;
      top: 10px;
      right: 10px;
      background: var(--primary-gradient);
      padding: 4px 8px;
      border-radius: 20px;
      font-size: 0.75rem;
      font-weight: bold;
    }
    
    .floating {
      animation: float 6s ease-in-out infinite;
    }
    
    @keyframes float {
      0% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
      100% { transform: translateY(0px); }
    }
    
    .pulse {
      animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    
    .tab-button {
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    
    .tab-button::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 0;
      height: 3px;
      background: var(--primary-gradient);
      transition: width 0.3s ease;
    }
    
    .tab-button.active::after {
      width: 100%;
    }
    
    .offer-card {
      transition: all 0.3s ease;
    }
    
    .offer-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
    }
    
    .notification-dot {
      position: absolute;
      top: -5px;
      right: -5px;
      width: 15px;
      height: 15px;
      background: #f5576c;
      border-radius: 50%;
    }
  </style>
</head>
<body class="h-full bg-gradient-to-br from-gray-900 to-black text-white">
  <!-- Navigation -->
  <nav class="flex items-center justify-between p-6 glass-card mx-4 mt-4">
    <div class="flex items-center">
      <a href="index.html" class="text-2xl font-bold gradient-text">MNZ DIGITAL STATE</a>
    </div>
    <div class="hidden md:flex space-x-6">
      <a href="index.html" class="hover:text-blue-400 transition-colors">Home</a>
      <a href="offerwall.html" class="text-blue-400 font-medium">Earn</a>
      <a href="crypto.html" class="hover:text-blue-400 transition-colors">Crypto</a>
      <a href="helpdesk.html" class="hover:text-blue-400 transition-colors">Support</a>
    </div>
    <div class="flex items-center space-x-4">
      <div class="relative">
        <button id="notification-btn" class="p-2 rounded-full bg-gray-800 hover:bg-gray-700">
          <i class="fas fa-bell"></i>
          <span class="notification-dot"></span>
        </button>
      </div>
      <a href="dashboard.html" class="btn-primary px-4 py-2 rounded-md font-medium transition-colors">Dashboard</a>
    </div>
  </nav>

  <main class="container mx-auto px-6 py-10">
    <div class="flex flex-col md:flex-row justify-between items-center mb-8">
      <div>
        <h1 class="text-4xl font-bold mb-2 gradient-text">Earning Platforms</h1>
        <p class="text-gray-400 max-w-2xl">
          Access multiple earning opportunities through our federated platform network. All earnings are tracked and paid through MNZ Digital State.
        </p>
      </div>
      <div class="mt-4 md:mt-0">
        <div class="flex items-center space-x-2 bg-gray-800 rounded-lg p-3">
          <div class="bg-green-500 rounded-full p-1">
            <i class="fas fa-wallet text-white text-sm"></i>
          </div>
          <div>
            <p class="text-sm text-gray-400">Available Balance</p>
            <p class="font-bold" id="available-balance">$0.00</p>
          </div>
          <button class="btn-primary px-3 py-1 rounded-md text-sm ml-4">Cash Out</button>
        </div>
      </div>
    </div>

    <!-- Tabs Navigation -->
    <div class="flex overflow-x-auto space-x-2 mb-8 pb-2">
      <button class="tab-button px-4 py-2 rounded-md bg-gray-800 active" data-tab="all">All Platforms</button>
      <button class="tab-button px-4 py-2 rounded-md bg-gray-800" data-tab="surveys">Surveys</button>
      <button class="tab-button px-4 py-2 rounded-md bg-gray-800" data-tab="offers">Offers</button>
      <button class="tab-button px-4 py-2 rounded-md bg-gray-800" data-tab="games">Games</button>
      <button class="tab-button px-4 py-2 rounded-md bg-gray-800" data-tab="crypto">Crypto</button>
    </div>

    <!-- Platform Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12" id="platforms-container">
      <!-- CPX Research -->
      <div class="platform-card glass-card p-6" data-category="surveys">
        <div class="flex items-center mb-4">
          <div class="w-12 h-12 bg-blue-900 rounded-lg flex items-center justify-center mr-4">
            <img src="https://publisher.cpx-research.com/images/cpx-logo.svg" alt="CPX Research" class="w-8 h-8">
          </div>
          <div>
            <h3 class="text-xl font-bold">CPX Research</h3>
            <div class="flex items-center mt-1">
              <span class="text-yellow-400"><i class="fas fa-star"></i></span>
              <span class="text-yellow-400 ml-1">4.8</span>
              <span class="text-gray-500 text-sm ml-2">(2.4k reviews)</span>
            </div>
          </div>
        </div>
        <p class="text-gray-300 mb-4">Complete surveys and market research studies for rewards.</p>
        <div class="flex justify-between items-center mb-4">
          <span class="text-sm text-gray-400">Avg. Earnings:</span>
          <span class="text-green-400 font-medium">$1-5 per survey</span>
        </div>
        <div class="flex justify-between items-center mb-4">
          <span class="text-sm text-gray-400">Min. Payout:</span>
          <span class="text-blue-400 font-medium">$5.00</span>
        </div>
        <a href="https://publisher.cpx-research.com/index.php" target="_blank" 
           class="block w-full btn-primary text-center py-2 rounded-md font-medium transition-colors">
          Access CPX
        </a>
      </div>

      <!-- Bitlabs -->
      <div class="platform-card glass-card p-6" data-category="surveys">
        <div class="flex items-center mb-4">
          <div class="w-12 h-12 bg-purple-900 rounded-lg flex items-center justify-center mr-4">
            <img src="https://bitlabs.ai/assets/images/logo.svg" alt="Bitlabs" class="w-8 h-8">
          </div>
          <div>
            <h3 class="text-xl font-bold">Bitlabs</h3>
            <div class="flex items-center mt-1">
              <span class="text-yellow-400"><i class="fas fa-star"></i></span>
              <span class="text-yellow-400 ml-1">4.6</span>
              <span class="text-gray-500 text-sm ml-2">(1.8k reviews)</span>
            </div>
          </div>
        </div>
        <p class="text-gray-300 mb-4">Surveys, quizzes, and micro-tasks with instant rewards.</p>
        <div class="flex justify-between items-center mb-4">
          <span class="text-sm text-gray-400">Avg. Earnings:</span>
          <span class="text-green-400 font-medium">$0.5-3 per task</span>
        </div>
        <div class="flex justify-between items-center mb-4">
          <span class="text-sm text-gray-400">Min. Payout:</span>
          <span class="text-blue-400 font-medium">$3.00</span>
        </div>
        <a href="https://bitlabs.ai" target="_blank" 
           class="block w-full bg-purple-600 hover:bg-purple-700 text-center py-2 rounded-md font-medium transition-colors">
          Access Bitlabs
        </a>
      </div>

      <!-- Freecash -->
      <div class="platform-card glass-card p-6" data-category="offers">
        <div class="flex items-center mb-4">
          <div class="w-12 h-12 bg-green-900 rounded-lg flex items-center justify-center mr-4">
            <img src="https://freecash.com/favicon.ico" alt="Freecash" class="w-8 h-8">
          </div>
          <div>
            <h3 class="text-xl font-bold">Freecash</h3>
            <div class="flex items-center mt-1">
              <span class="text-yellow-400"><i class="fas fa-star"></i></span>
              <span class="text-yellow-400 ml-1">4.7</span>
              <span class="text-gray-500 text-sm ml-2">(5.2k reviews)</span>
            </div>
          </div>
        </div>
        <p class="text-gray-300 mb-4">Complete offers, surveys, and tasks for cryptocurrency.</p>
        <div class="flex justify-between items-center mb-4">
          <span class="text-sm text-gray-400">Avg. Earnings:</span>
          <span class="text-green-400 font-medium">Varies by task</span>
        </div>
        <div class="flex justify-between items-center mb-4">
          <span class="text-sm text-gray-400">Min. Payout:</span>
          <span class="text-blue-400 font-medium">$5.00</span>
        </div>
        <a href="https://freecash.com" target="_blank" 
           class="block w-full bg-green-600 hover:bg-green-700 text-center py-2 rounded-md font-medium transition-colors">
          Access Freecash
        </a>
      </div>

      <!-- AdGem -->
      <div class="platform-card glass-card p-6" data-category="offers">
        <div class="flex items-center mb-4">
          <div class="w-12 h-12 bg-yellow-900 rounded-lg flex items-center justify-center mr-4">
            <img src="https://www.adgem.com/favicon.ico" alt="AdGem" class="w-8 h-8">
          </div>
          <div>
            <h3 class="text-xl font-bold">AdGem</h3>
            <div class="flex items-center mt-1">
              <span class="text-yellow-400"><i class="fas fa-star"></i></span>
              <span class="text-yellow-400 ml-1">4.3</span>
              <span class="text-gray-500 text-sm ml-2">(1.5k reviews)</span>
            </div>
          </div>
        </div>
        <p class="text-gray-300 mb-4">Complete offers and download apps for rewards.</p>
        <div class="flex justify-between items-center mb-4">
          <span class="text-sm text-gray-400">Avg. Earnings:</span>
          <span class="text-green-400 font-medium">$0.5-20 per offer</span>
        </div>
        <div class="flex justify-between items-center mb-4">
          <span class="text-sm text-gray-400">Min. Payout:</span>
          <span class="text-blue-400 font-medium">$1.00</span>
        </div>
        <a href="https://adgem.com" target="_blank" 
           class="block w-full bg-yellow-600 hover:bg-yellow-700 text-center py-2 rounded-md font-medium transition-colors">
          Access AdGem
        </a>
      </div>

      <!-- Lootably -->
      <div class="platform-card glass-card p-6" data-category="games">
        <div class="flex items-center mb-4">
          <div class="w-12 h-12 bg-red-900 rounded-lg flex items-center justify-center mr-4">
            <img src="https://lootably.com/assets/images/logo.png" alt="Lootably" class="w-8 h-8">
          </div>
          <div>
            <h3 class="text-xl font-bold">Lootably</h3>
            <div class="flex items-center mt-1">
              <span class="text-yellow-400"><i class="fas fa-star"></i></span>
              <span class="text-yellow-400 ml-1">4.5</span>
              <span class="text-gray-500 text-sm ml-2">(1.2k reviews)</span>
            </div>
          </div>
        </div>
        <p class="text-gray-300 mb-4">Play games and complete in-game tasks for rewards.</p>
        <div class="flex justify-between items-center mb-4">
          <span class="text-sm text-gray-400">Avg. Earnings:</span>
          <span class="text-green-400 font-medium">$0.1-50 per game</span>
        </div>
        <div class="flex justify-between items-center mb-4">
          <span class="text-sm text-gray-400">Min. Payout:</span>
          <span class="text-blue-400 font-medium">$5.00</span>
        </div>
        <a href="https://lootably.com" target="_blank" 
           class="block w-full bg-red-600 hover:bg-red-700 text-center py-2 rounded-md font-medium transition-colors">
          Access Lootably
        </a>
      </div>

      <!-- GG2U -->
      <div class="platform-card glass-card p-6" data-category="games">
        <div class="flex items-center mb-4">
          <div class="w-12 h-12 bg-indigo-900 rounded-lg flex items-center justify-center mr-4">
            <img src="https://gg2u.com/img/logo.png" alt="GG2U" class="w-8 h-8">
          </div>
          <div>
            <h3 class="text-xl font-bold">GG2U</h3>
            <div class="flex items-center mt-1">
              <span class="text-yellow-400"><i class="fas fa-star"></i></span>
              <span class="text-yellow-400 ml-1">4.4</span>
              <span class="text-gray-500 text-sm ml-2">(2.1k reviews)</span>
            </div>
          </div>
        </div>
        <p class="text-gray-300 mb-4">Surveys, offers, and gaming rewards with cash payouts.</p>
        <div class="flex justify-between items-center mb-4">
          <span class="text-sm text-gray-400">Avg. Earnings:</span>
          <span class="text-green-400 font-medium">Varies by activity</span>
        </div>
        <div class="flex justify-between items-center mb-4">
          <span class="text-sm text-gray-400">Min. Payout:</span>
          <span class="text-blue-400 font-medium">$7.00</span>
        </div>
        <a href="https://gg2u.com" target="_blank" 
           class="block w-full bg-indigo-600 hover:bg-indigo-700 text-center py-2 rounded-md font-medium transition-colors">
          Access GG2U
        </a>
      </div>
    </div>

    <!-- Featured Offers Section -->
    <div class="mb-12">
      <h2 class="text-2xl font-bold mb-6 gradient-text">Featured Offers</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4" id="featured-offers">
        <!-- Offers will be dynamically loaded here -->
      </div>
    </div>

    <!-- Earnings Stats -->
    <div class="glass-card p-6 mb-12">
      <h2 class="text-2xl font-bold mb-6 gradient-text">Your Earning Statistics</h2>
      <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
        <div class="bg-gray-900 p-4 rounded-lg text-center">
          <div class="text-3xl font-bold text-green-400" id="total-earnings">$0.00</div>
          <div class="text-gray-400 mt-1">Total Earnings</div>
        </div>
        <div class="bg-gray-900 p-4 rounded-lg text-center">
          <div class="text-3xl font-bold text-blue-400" id="surveys-completed">0</div>
          <div class="text-gray-400 mt-1">Surveys Completed</div>
        </div>
        <div class="bg-gray-900 p-4 rounded-lg text-center">
          <div class="text-3xl font-bold text-yellow-400" id="active-offers">0</div>
          <div class="text-gray-400 mt-1">Active Offers</div>
        </div>
        <div class="bg-gray-900 p-4 rounded-lg text-center">
          <div class="text-3xl font-bold text-purple-400" id="pending-cash">$0.00</div>
          <div class="text-gray-400 mt-1">Pending Cashout</div>
        </div>
      </div>
      
      <!-- Earnings Chart -->
      <div class="bg-gray-900 p-4 rounded-lg">
        <h3 class="text-xl font-bold mb-4">Earnings Overview</h3>
        <canvas id="earningsChart" height="100"></canvas>
      </div>
    </div>

    <!-- Recent Activity -->
    <div class="glass-card p-6">
      <h2 class="text-2xl font-bold mb-6 gradient-text">Recent Activity</h2>
      <div class="overflow-x-auto">
        <table class="w-full">
          <thead>
            <tr class="text-left border-b border-gray-700">
              <th class="pb-3">Date</th>
              <th class="pb-3">Platform</th>
              <th class="pb-3">Activity</th>
              <th class="pb-3 text-right">Amount</th>
              <th class="pb-3">Status</th>
            </tr>
          </thead>
          <tbody id="activity-table">
            <!-- Activity will be dynamically loaded here -->
          </tbody>
        </table>
      </div>
    </div>
  </main>

  <!-- Notification Panel -->
  <div id="notification-panel" class="fixed top-16 right-4 w-80 bg-gray-800 rounded-lg shadow-xl z-50 hidden">
    <div class="p-4 border-b border-gray-700">
      <h3 class="font-bold">Notifications</h3>
    </div>
    <div class="max-h-96 overflow-y-auto">
      <div class="p-4 border-b border-gray-700">
        <p class="text-sm">New high-paying surveys available on CPX Research!</p>
        <p class="text-xs text-gray-400 mt-1">2 minutes ago</p>
      </div>
      <div class="p-4 border-b border-gray-700">
        <p class="text-sm">Your withdrawal of $15.20 has been processed.</p>
        <p class="text-xs text-gray-400 mt-1">1 hour ago</p>
      </div>
      <div class="p-4">
        <p class="text-sm">New platform added: Lootably - earn by playing games!</p>
        <p class="text-xs text-gray-400 mt-1">3 hours ago</p>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Initialize tab functionality
      const tabButtons = document.querySelectorAll('.tab-button');
      const platformCards = document.querySelectorAll('.platform-card');
      
      tabButtons.forEach(button => {
        button.addEventListener('click', () => {
          const tab = button.getAttribute('data-tab');
          
          // Update active tab
          tabButtons.forEach(btn => btn.classList.remove('active'));
          button.classList.add('active');
          
          // Filter platforms
          platformCards.forEach(card => {
            if (tab === 'all' || card.getAttribute('data-category') === tab) {
              card.style.display = 'block';
            } else {
              card.style.display = 'none';
            }
          });
        });
      });
      
      // Notification panel toggle
      const notificationBtn = document.getElementById('notification-btn');
      const notificationPanel = document.getElementById('notification-panel');
      
      notificationBtn.addEventListener('click', () => {
        notificationPanel.classList.toggle('hidden');
      });
      
      // Close notification panel when clicking outside
      document.addEventListener('click', (e) => {
        if (!notificationBtn.contains(e.target) && !notificationPanel.contains(e.target)) {
          notificationPanel.classList.add('hidden');
        }
      });
      
      // Load stats
      loadStats();
      
      // Load featured offers
      loadFeaturedOffers();
      
      // Load recent activity
      loadRecentActivity();
      
      // Initialize earnings chart
      initEarningsChart();
    });
    
    async function loadStats() {
      try {
        const response = await fetch('/api/stats');
        const data = await response.json();
        
        // Update stats
        document.getElementById('total-earnings').textContent = `$${data.totalEarnings || '0.00'}`;
        document.getElementById('surveys-completed').textContent = data.surveysCompleted || '0';
        document.getElementById('active-offers').textContent = data.activeOffers || '0';
        document.getElementById('pending-cash').textContent = `$${data.pendingCash || '0.00'}`;
        document.getElementById('available-balance').textContent = `$${data.availableBalance || '0.00'}`;
      } catch (error) {
        console.error('Failed to load stats:', error);
      }
    }
    
    async function loadFeaturedOffers() {
      try {
        const response = await fetch('/api/offers/featured');
        const offers = await response.json();
        
        const offersContainer = document.getElementById('featured-offers');
        offersContainer.innerHTML = '';
        
        offers.forEach(offer => {
          const offerElement = document.createElement('div');
          offerElement.className = 'offer-card bg-gray-800 rounded-lg p-4 relative';
          offerElement.innerHTML = `
            <span class="offer-tag">${offer.payout}</span>
            <img src="${offer.image}" alt="${offer.title}" class="w-full h-32 object-cover rounded-md mb-3">
            <h3 class="font-bold mb-2">${offer.title}</h3>
            <p class="text-sm text-gray-400 mb-3">${offer.description}</p>
            <button class="w-full bg-blue-600 hover:bg-blue-700 py-2 rounded-md text-sm font-medium">
              Earn ${offer.payout}
            </button>
          `;
          
          offersContainer.appendChild(offerElement);
        });
      } catch (error) {
        console.error('Failed to load featured offers:', error);
      }
    }
    
    async function loadRecentActivity() {
      try {
        const response = await fetch('/api/activity');
        const activities = await response.json();
        
        const activityTable = document.getElementById('activity-table');
        activityTable.innerHTML = '';
        
        activities.forEach(activity => {
          const row = document.createElement('tr');
          row.className = 'border-b border-gray-700';
          row.innerHTML = `
            <td class="py-3">${activity.date}</td>
            <td class="py-3">${activity.platform}</td>
            <td class="py-3">${activity.description}</td>
            <td class="py-3 text-right ${activity.amount > 0 ? 'text-green-400' : 'text-red-400'}">${activity.amount > 0 ? '+' : ''}$${activity.amount}</td>
            <td class="py-3">
              <span class="px-2 py-1 rounded-full text-xs ${getStatusClass(activity.status)}">${activity.status}</span>
            </td>
          `;
          
          activityTable.appendChild(row);
        });
      } catch (error) {
        console.error('Failed to load recent activity:', error);
      }
    }
    
    function getStatusClass(status) {
      switch(status.toLowerCase()) {
        case 'completed': return 'bg-green-900 text-green-400';
        case 'pending': return 'bg-yellow-900 text-yellow-400';
        case 'failed': return 'bg-red-900 text-red-400';
        default: return 'bg-gray-700 text-gray-400';
      }
    }
    
    function initEarningsChart() {
      const ctx = document.getElementById('earningsChart').getContext('2d');
      
      // Sample data - replace with real data from API
      const data = {
        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
        datasets: [{
          label: 'Earnings ($)',
          data: [12, 19, 15, 25, 22, 30, 28, 35, 42, 38, 45, 50],
          borderColor: '#667eea',
          backgroundColor: 'rgba(102, 126, 234, 0.1)',
          borderWidth: 2,
          fill: true,
          tension: 0.4
        }]
      };
      
      const options = {
        responsive: true,
        plugins: {
          legend: {
            display: false
          }
        },
        scales: {
          y: {
            beginAtZero: true,
            grid: {
              color: 'rgba(255, 255, 255, 0.1)'
            },
            ticks: {
              color: '#e2e8f0'
            }
          },
          x: {
            grid: {
              color: 'rgba(255, 255, 255, 0.1)'
            },
            ticks: {
              color: '#e2e8f0'
            }
          }
        }
      };
      
      new Chart(ctx, {
        type: 'line',
        data: data,
        options: options
      });
    }
  </script>
</body>
</html>